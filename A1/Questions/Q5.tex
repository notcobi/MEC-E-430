\section{}
A common flow encountered in practice is the crossflow of a fluid approaching a long cylinder of radius $R$ at a freestream speed of $U_{\infty}$. For incompressible inviscid flow, the velocity field of the flow is given as:
\begin{align}
    u_r &= U_{\infty} \left(1 - \frac{R^2}{r^2}\right)\cos\theta \label{eq:5a} \\
    u_{\theta} &= -U_{\infty} \left(1 + \frac{R^2}{r^2}\right)\sin\theta \label{eq:5b}
\end{align}
\begin{enumerate}[label=(\alph*)]
    \item Show that the velocity field satisfies the continuity equation, and
    \item Determine the stream function corresponding to this velocity field.
\end{enumerate}

\subsection*{Solution}
\subsection{}
First we list some assumptions:
\begin{table}[h]    
    \centering
    \caption{Assumptions}
    \begin{tabular}{c|c}
        Assumption & Approximation \\
        \hline
        Steady flow & $\partial_t = 0$ \\
        Incompressible flow & $\rho = \text{constant}$ \\
        2D flow & $\partial_z = 0$, $u_z = 0$ \\
    \end{tabular}
\end{table}
\FloatBarrier
The continuity equation for incompressible flow is given by
\begin{gather*}
    \nabla \cdot \vec{v} = 0 \\
    \frac{1}{r} \frac{\partial}{\partial r}(r u_r) + \frac{1}{r}\frac{\partial}{\partial \theta}(u_{\theta}) + \cancelto{\text{2D}}{\frac{\partial}{\partial z}(u_z)} = 0
\end{gather*}
Substituting the given expressions for $u_r$ and $u_{\theta}$ into the continuity equation, we have
\begin{align*}
    \frac{1}{r} \frac{\partial}{\partial r}\left(r U_{\infty} \left(1 - \frac{R^2}{r^2}\right)\cos\theta\right) + \frac{1}{r}\frac{\partial}{\partial \theta}\left(-U_{\infty} \left(1 + \frac{R^2}{r^2}\right)\sin\theta\right) &= 0 \\
    \frac{\partial}{\partial r}\left(r U_{\infty} \left(1 - \frac{R^2}{r^2}\right)\cos\theta\right) - \frac{\partial}{\partial \theta}\left(U_{\infty} \left(1 + \frac{R^2}{r^2}\right)\sin\theta\right) &= 0  \\
    \frac{\partial}{\partial r}\left(r U_{\infty} \cos\theta - \frac{R^2}{r}U_{\infty}\cos\theta\right) - \frac{\partial}{\partial \theta}\left(U_{\infty}\left(1+ \frac{R^2}{r^2}\right)\sin\theta\right) &= 0 
\end{align*}
Expanding the derivatives, we have
\begin{gather*}
    U_{\infty}\cos\theta + \frac{R^2}{r^2}U_{\infty}\cos\theta - U_{\infty}\cos\theta - \frac{R^2}{r^2}U_{\infty}\cos\theta = 0 \\
    \boxed{0 = 0}
\end{gather*}
Thus, the velocity field satisfies the continuity equation.

\subsection{}
Let us derive the stream function $\psi$ for the velocity field. Observe that if 
\begin{align*}
    u_r = \frac{1}{r} \frac{\partial \psi}{\partial \theta}, \quad u_{\theta} = -\frac{\partial \psi}{\partial r}
\end{align*}
Then, the continuity equation for 2D flow is
\begin{align*}
    \frac{1}{r} \frac{\partial}{\partial r}(r u_r) + \frac{1}{r}\frac{\partial}{\partial \theta}(u_{\theta}) &= 0 \\
    \frac{1}{r} \frac{\partial}{\partial r}\left(r \frac{1}{r} \frac{\partial \psi}{\partial \theta}\right) + \frac{1}{r}\frac{\partial}{\partial \theta}\left(-\frac{\partial \psi}{\partial r}\right) &= 0 \\
    \frac{1}{r} \frac{\partial}{\partial r}\left(\frac{\partial \psi}{\partial \theta}\right) - \frac{1}{r}\frac{\partial}{\partial \theta}\left(\frac{\partial \psi}{\partial r}\right) &= 0 \\
    \frac{\partial \psi}{\partial r \partial \theta} - \frac{\partial \psi}{\partial \theta \partial r} &= 0 \\
    0&=0
\end{align*}
Thus, the stream function $\psi$ holds. We can solve for $\psi$ by integrating the $u_r$ and $u_{\theta}$ expressions. First, we integrate $u_r$ with respect to $\theta$:
\begin{align*}
    \psi &= \int r u_r \, d\theta \\
    &= \int r U_{\infty} \left(1 - \frac{R^2}{r^2}\right)\cos\theta \, d\theta \\
    &= rU_{\infty}\left(1 - \frac{R^2}{r^2}\right)\sin\theta + g(r)
\end{align*}
Then deriving $\psi$ with respect to $r$, we have
\begin{align*}
    \frac{\partial \psi}{\partial r} &= \frac{\partial}{\partial r}\left(U_{\infty}\left(r - \frac{R^2}{r}\right)\sin\theta + g(r)\right) \\
    &= U_{\infty}\left(1 + \frac{R^2}{r^2}\right)\sin\theta + g'(r)
\end{align*}
Equating this expression to $-u_{\theta}$, we have
\begin{align*}
    U_{\infty}\left(1 + \frac{R^2}{r^2}\right)\sin\theta + g'(r) &= U_{\infty} \left(1 + \frac{R^2}{r^2}\right)\sin\theta \\
    \implies g'(r) &= 0 \\
    \implies g(r) &= C
\end{align*}
Thus, the stream function $\psi$ is given by
\begin{align*}
    \Aboxed{\psi &= rU_{\infty}\left(1 - \frac{R^2}{r^2}\right)\sin\theta + C}
\end{align*}